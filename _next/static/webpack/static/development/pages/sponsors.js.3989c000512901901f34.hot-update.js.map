{"version":3,"file":"static/webpack/static\\development\\pages\\sponsors.js.3989c000512901901f34.hot-update.js","sources":["webpack:///./src/repository/helper_repository.ts"],"sourcesContent":["import superagent from 'superagent';\r\n// import { IArticleRequest } from '../json/request/article';\r\n// import { ICommentRequest } from '../json/request/comment';\r\n// import { ArticleResponse, SimpleArticleResponse, SearchArticleResponse  } from '../json/response/article';\r\n// import { CommentListResponse, CommentResponse  } from '../json/response/comment';\r\nimport config from '../config';\r\nimport { common } from '@material-ui/core/colors';\r\nimport request from 'superagent';\r\nimport { DonationTopResponse, DonationLatestResponse } from '../types/response';\r\n\r\nconst url = config.helperApi;\r\nclass HelperApiRepository {\r\n  static async getRedirectUrl({\r\n    title, \r\n    comment, \r\n    email, \r\n    name, \r\n    price, \r\n  }: {\r\n    title: string, \r\n    comment: string, \r\n    email: string, \r\n    name: string, \r\n    price: number, \r\n  }) : Promise<string> {\r\n    return url + `/donations?email=${encodeURIComponent(email)}&name=${encodeURIComponent(name)}&price=${price}&title=${encodeURIComponent(title)}&comment=${encodeURIComponent(comment)}`;\r\n  }\r\n  // static async getArticle(slug: string, ) : Promise<ArticleResponse | null> {\r\n  //   try {\r\n  //     const res = superagent\r\n  //       .get(config.api + `${url}/${slug}`)\r\n  //       .set(\"accept\", \"json\")\r\n  //       .set({'Content-Type': 'application/json'})\r\n  //       if(token)\r\n  //         res.set({'Authorization': 'Bearer ' + token})   \r\n  //     const response = await res.send();\r\n\r\n  //     const article = response.body as ArticleResponse;\r\n  //     return article;\r\n  //   } catch(err) {\r\n  //     console.log(err);\r\n  //     return null;\r\n  //   }\r\n  // }\r\n  static async postPaypalCheckout({\r\n    title, \r\n    comment, \r\n    email, \r\n    name, \r\n    price,\r\n    orderId,\r\n  }: {\r\n    title: string, \r\n    comment: string, \r\n    email: string, \r\n    name: string, \r\n    price: number, \r\n    orderId: string,\r\n  }) : Promise<any> {\r\n    const res = await superagent.post(url + \"/donations/paypal\")\r\n      .send({\r\n        title: title,\r\n        email: email,\r\n        name: name,\r\n        comment: comment,\r\n        price: price,\r\n        orderId: orderId,\r\n      });\r\n    return res.body;\r\n  }\r\n\r\n  static async getTop(page: number = 0): Promise<Array<DonationTopResponse>> {\r\n    console.log(url + \"/donations/top\");\r\n    const res = await superagent.get(url + \"/donations/top\")\r\n      .query({page: page});\r\n    return res.body as Array<DonationTopResponse>;\r\n  }\r\n\r\n  static async getLatest(page: number = 0): Promise<Array<DonationLatestResponse>> {\r\n    const res = await superagent.get(url + \"/donations/latest\")\r\n      .query({page: page});\r\n    return res.body as Array<DonationLatestResponse>;\r\n  }\r\n}\r\n\r\nexport default HelperApiRepository;"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAKA;AACA;AAAA;;;;;;;;;;;;;AAEA;AAYA;AACA;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AACA;;AAcA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;;AAFA;AASA;AACA;;;;;;;;;;;;;;;;;;AAEA;AACA;;AACA;AACA;AAAA;AACA;;AAFA;AAEA;AACA;;;;;;;;;;;;;;;;;;AAEA;;AACA;AACA;AAAA;AACA;;AAFA;AAEA;AACA;;;;;;;;;;;;;AAGA;;;;A","sourceRoot":""}